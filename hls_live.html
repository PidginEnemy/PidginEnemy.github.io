<!DOCTYPE HTML>
<html>
  <head>
    <title>Test hls live</title>

    <style>
      video {
        width: 600px;
        height: 350px;
        background: #000;
      }
    </style>

    <script src="https://video-dev.github.io/hls.js/dist/hls.js"></script>
  </head>
  <body>
    <video id="video"></video>

    <script>
      const hlsParams = {
        debug: false,
        fragLoadingRetryDelay: 3000,
        fragLoadingMaxRetry: 1,
        autoStartLoad: false
      }

      const hls = new Hls(hlsParams)

      hls.on(Hls.Events.MEDIA_ATTACHED, () => {
        console.log('media attached')
        hls.loadSource('https://100ege-lesson-rc.foxford.ru/hls/webinar/123/lector/index.m3u8')
      })
      hls.on(Hls.Events.FRAG_PARSING_METADATA, () => {
        console.log('frag parsing metadata')
      })
      hls.on(Hls.Events.ERROR, (e, data) => {
        console.log(data)
      })
      hls.on(Hls.Events.FRAG_CHANGED, () => {
        console.log('frag changed')
      })
      hls.on(Hls.Events.MANIFEST_PARSED, () => {
        console.log('manifest parsed')
        hls.startLoad()
      })

      hls.attachMedia(document.getElementById('video'))
    </script>
  </body>
</html>