!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(2),__webpack_require__(6),__webpack_require__(11),__webpack_require__(24);var catMail=angular.module("catMail",["ui.router","angular-storage","ui","login","mail","user"]);catMail.config(["$httpProvider","$stateProvider","$urlRouterProvider","storeProvider",function($httpProvider,$stateProvider,$urlRouterProvider,storeProvider){$urlRouterProvider.otherwise("/login"),storeProvider.setStore("sessionStorage")}]),catMail.run(["$rootScope","$state","LoginService",function($rootScope,$state,LoginService){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams,error){"login"==toState.name||LoginService.isAuthorized()?"login"==toState.name&&LoginService.isAuthorized()&&(event.preventDefault(),$state.go("mail.list",{box:"inbox"})):(event.preventDefault(),alert("Please, login"),$state.go("login"))})}])},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _cmNavigationDirective=__webpack_require__(3),_cmNavigationDirective2=_interopRequireDefault(_cmNavigationDirective),ui=angular.module("ui",[]);ui.directive("cmNavigation",_cmNavigationDirective2["default"]),exports["default"]=ui},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _cmNavigationTpl=__webpack_require__(4),_cmNavigationTpl2=_interopRequireDefault(_cmNavigationTpl),_cmNavigationController=__webpack_require__(5),_cmNavigationController2=_interopRequireDefault(_cmNavigationController),cmNavigation=function(){return{restrict:"E",template:_cmNavigationTpl2["default"],controller:_cmNavigationController2["default"],controllerAs:"cmNavCtrl"}};exports["default"]=cmNavigation},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<nav class="navbar navbar-inverse navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span>\n<span class="icon-bar"></span>\n<span class="icon-bar"></span>\n<span class="icon-bar"></span> </button>\n<a ui-sref="mail.list({ box:\'inbox\' })"><span class="navbar-logo glyphicon glyphicon-envelope"></span></a>\n<a class="navbar-brand" ui-sref="mail.list({ box:\'inbox\' })">CatMail</a> </div> <div id="navbar" class="collapse navbar-collapse"> <ul class="nav navbar-nav"> <li ng-class="{ \'active\': cmNavCtrl.state.current.name.indexOf(\'mail\') != -1 }"><a ui-sref="mail.list({ box: \'inbox\' })">Mails</a></li> <li ng-class="{ \'active\': cmNavCtrl.state.current.name.indexOf(\'user\') != -1 }"><a ui-sref="user.list">Users</a></li> </ul> <a class="navbar-exit" href="#" ng-click="cmNavCtrl.logout()">Logout</a> </div> </div> </nav>';ngModule.run(["$templateCache",function(c){c.put("layout/cm-navigation/cm-navigation.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CMNavigationController=function($state,LoginService){this.state=$state,this.logout=function(){LoginService.logout()}};exports["default"]=CMNavigationController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginDirective=__webpack_require__(7),_loginDirective2=_interopRequireDefault(_loginDirective),_loginService=__webpack_require__(10),_loginService2=_interopRequireDefault(_loginService),_loginController=__webpack_require__(9),_loginController2=_interopRequireDefault(_loginController),login=angular.module("login",[]);login.config(["$stateProvider",function($stateProvider){$stateProvider.state("login",{url:"/login",template:"<login></login>"})}]),login.directive("login",_loginDirective2["default"]),login.service("LoginService",_loginService2["default"]),login.controller("LoginController",_loginController2["default"]),exports["default"]=login},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginTpl=__webpack_require__(8),_loginTpl2=_interopRequireDefault(_loginTpl),_loginController=__webpack_require__(9),_loginController2=_interopRequireDefault(_loginController),login=function(){return{restrict:"E",template:_loginTpl2["default"],controller:_loginController2["default"],controllerAs:"loginCtrl"}};exports["default"]=login},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<div class="login-page"> <div class="container text-center"> <form class="form-signin clearfix"> <div class="form-signin-logo clearfix"> <a href="#"><span class="navbar-logo glyphicon glyphicon-envelope"></span></a>\n<a href="#" class="navbar-brand">CatMail</a> </div> <div class="form-group"> <label for="loginName">Username</label> <input type="text" id="loginName" class="form-control" placeholder="admin" autofocus="" ng-model="loginCtrl.credits.name"> </div> <div class="form-group"> <label for="loginPassword">Pasword</label> <input type="password" id="loginPassword" class="form-control" placeholder="123" ng-model="loginCtrl.credits.password"> </div> <button class="btn btn-lg btn-default" ng-click="loginCtrl.login()" type="submit">Login</button> </form> </div> </div>';ngModule.run(["$templateCache",function(c){c.put("login/views/login.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LoginController=function(LoginService,$state){var _this=this;this.credits={name:null,password:null},this.login=function(){_this.credits.name&&_this.credits.password?LoginService.checkCredits(_this.credits)?$state.go("mail.list",{box:"inbox"}):alert("You entered invalid login or password"):alert("Enter the login and password")}};exports["default"]=LoginController},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LoginService=function(store){var authStatus=!1,storage=localStorage||window.localStorage;this.checkCredits=function(credits){return credits&&credits.name&&credits.password&&"admin"==credits.name&&"123"==credits.password?(authStatus=!0,storage.clear()):authStatus=!1,store.set("user",{username:credits.name}),authStatus},this.isAuthorized=function(){var user=store.get("user");return user?!0:!1},this.logout=function(){store.remove("user")}};exports["default"]=LoginService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mailDirective=__webpack_require__(12),_mailDirective2=_interopRequireDefault(_mailDirective),_mailListDirective=__webpack_require__(14),_mailListDirective2=_interopRequireDefault(_mailListDirective),_mailListBoxDirective=__webpack_require__(17),_mailListBoxDirective2=_interopRequireDefault(_mailListBoxDirective),_mailDetailDirective=__webpack_require__(20),_mailDetailDirective2=_interopRequireDefault(_mailDetailDirective),_mailListService=__webpack_require__(23),_mailListService2=_interopRequireDefault(_mailListService),_mailListController=__webpack_require__(16),_mailListController2=_interopRequireDefault(_mailListController),_mailDetailController=__webpack_require__(22),_mailDetailController2=_interopRequireDefault(_mailDetailController),mail=angular.module("mail",[]);mail.config(["$stateProvider",function($stateProvider){$stateProvider.state("mail",{"abstract":!0,url:"",template:"<mail></mail>",resolve:{mailList:["MailListService",function(MailListService){return MailListService.getAll()}],userList:["UserListService",function(UserListService){return UserListService.getAll()}]}}).state("mail.list",{url:"/mail/:box",template:"<mail-list></mail-list>"}).state("mail.detail",{url:"/mail/:box/:mail_id",template:"<mail-detail></mail-detail>"})}]),mail.directive("mail",_mailDirective2["default"]),mail.directive("mailList",_mailListDirective2["default"]),mail.directive("mailListBox",_mailListBoxDirective2["default"]),mail.directive("mailDetail",_mailDetailDirective2["default"]),mail.service("MailListService",_mailListService2["default"]),mail.controller("MailListController",_mailListController2["default"]),mail.controller("MailDetailController",_mailDetailController2["default"]),exports["default"]=mail},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mailTpl=__webpack_require__(13),_mailTpl2=_interopRequireDefault(_mailTpl),mail=function(){return{restrict:"E",template:_mailTpl2["default"]}};exports["default"]=mail},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<cm-navigation></cm-navigation> <div class="page"> <div class="container page-inner"> <div class="row"> <div class="col-xs-12 col-sm-3 col-md-2"> <mail-list-box></mail-list-box> </div> <div class="col-xs-12 col-sm-9 col-md-10"> <ui-view></ui-view> </div> </div> </div> </div>';ngModule.run(["$templateCache",function(c){c.put("mail/views/mail.tpl.html",v1)}]),module.exports=v1},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mailListTpl=__webpack_require__(15),_mailListTpl2=_interopRequireDefault(_mailListTpl),_mailListController=__webpack_require__(16),_mailListController2=_interopRequireDefault(_mailListController),mailList=function(){return{restrict:"E",template:_mailListTpl2["default"],controller:_mailListController2["default"],controllerAs:"mailListCtrl"}};exports["default"]=mailList},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<table class="table table-hover mail-list-table"> <tbody> <tr ng-repeat="mail in mailListCtrl.mailList | orderBy:dtReceived" ng-class="{ unread: mailListCtrl.isMailUnread(mail) }" ng-click="mailListCtrl.mailItemOnClick(mail._id)"> <td><img ng-src="{{mail.picture}}" class="img-circle"/></td> <td>{{mail.name}}</td> <td>{{mail.subject}}</td> <td><span ng-if="mail.withAttachments" class="glyphicon glyphicon-paperclip"></span></td> <td>{{mail.dtReceived | date:\'dd.MM.yy\'}}</td> </tr> </tbody> </table>';ngModule.run(["$templateCache",function(c){c.put("mail/views/mail-list.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MailListController=function($state,$stateParams,MailListService){var _this=this;this.mailList=[],this.getMailList=function(){var box=$stateParams.box||"inbox";MailListService.getMailsFromBox(box).then(function(res){angular.isArray(res)&&(_this.mailList=res)})},this.isMailUnread=function(mail){return mail.isNew&&"inbox"==mail.mailBoxType?!0:!1},this.mailItemOnClick=function(id){$state.go("mail.detail",{box:$stateParams.box,mail_id:id})},this.mailItemCheckboxClick=function(){console.log("1")},this.getMailList()};exports["default"]=MailListController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mailListBoxTpl=__webpack_require__(18),_mailListBoxTpl2=_interopRequireDefault(_mailListBoxTpl),_mailListBoxController=__webpack_require__(19),_mailListBoxController2=_interopRequireDefault(_mailListBoxController),mailListBox=function(){return{restrict:"E",template:_mailListBoxTpl2["default"],bindToController:!0,controller:_mailListBoxController2["default"],controllerAs:"mailListBoxCtrl"}};exports["default"]=mailListBox},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<div class="mail-list-filter"> <button class="btn btn-default btn-block" ui-sref="mail.list({ box:\'inbox\' })" ui-sref-active="active"> <span class="glyphicon glyphicon-download"></span>\nInbox <span class="badge">{{mailListBoxCtrl.countNewInbox}}</span> </button>\n<button class="btn btn-default btn-block" ui-sref="mail.list({ box:\'outbox\' })" ui-sref-active="active"> <span class="glyphicon glyphicon-upload"></span>\nOutbox </button>\n<button class="btn btn-default btn-block" ui-sref="mail.list({ box:\'spam\' })" ui-sref-active="active"> <span class="glyphicon glyphicon-ban-circle"></span>\nSpam </button>\n<button class="btn btn-default btn-block" ui-sref="mail.list({ box:\'trash\' })" ui-sref-active="active"> <span class="glyphicon glyphicon-trash"></span>\nTrash </button> </div>';ngModule.run(["$templateCache",function(c){c.put("mail/views/mail-list-box.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MailListBoxController=function(MailListService){this.countNewInbox=MailListService.getCountUnreadMails()};exports["default"]=MailListBoxController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mailDetailTpl=__webpack_require__(21),_mailDetailTpl2=_interopRequireDefault(_mailDetailTpl),_mailDetailController=__webpack_require__(22),_mailDetailController2=_interopRequireDefault(_mailDetailController),mailDetail=function(){return{restrict:"E",template:_mailDetailTpl2["default"],controller:_mailDetailController2["default"],controllerAs:"mailDetailCtrl"}};exports["default"]=mailDetail},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<div class="col-xs-12 mail-detail-back"> <a class="btn btn-default" title="Back to mail list" ng-click="mailDetailCtrl.backToList()"> <span class="glyphicon glyphicon-arrow-left"></span> </a> </div> <div class="col-xs-12"> <div class="pull-left"> <img class="img-circle" src="{{mailDetailCtrl.mail.picture}}"/>\n<strong>{{mailDetailCtrl.mail.name}}</strong> <p>{{mailDetailCtrl.mail.email}}</p> <p>{{mailDetailCtrl.mail.dtReceived | date:\'dd.MM.yy\'}}</p> </div> </div> <div class="col-xs-12"> <p>{{mailDetailCtrl.mail.text}}</p> <div ng-if="mailDetailCtrl.mail.withAttachments"> <strong>Attachment:</strong><br/> <img ng-src="http://thecatapi.com/api/images/get?format=src&type=gif&size=small&guid={{mailDetailCtrl.mail.guid}}"/> </div> </div>';ngModule.run(["$templateCache",function(c){c.put("mail/views/mail-detail.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MailDetailCtrl=function($state,$stateParams,MailListService){var _this=this;this.mail=null,this.getMail=function(){var id=$stateParams.mail_id;_this.mail=MailListService.getMailById(id)},this.backToList=function(){$state.go("mail.list",{box:$stateParams.box})},this.getMail()};exports["default"]=MailDetailCtrl},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MailListService=function($http,$q){var mailServiceUrl="http://www.json-generator.com/api/json/get/cfnrnjDxMy?indent=2",storage=localStorage||window.localStorage,getMailListFromStorage=function(){return JSON.parse(storage.mailList)},setMailListToStorage=function(list){storage.setItem("mailList",JSON.stringify(list))},prepareMailList=function(list){for(var i in list)list[i].dtReceived=new Date(list[i].dtReceived);return list};this.getAll=function(){if(storage.getItem("mailList")){var mailList=getMailListFromStorage();return $q.resolve(mailList)}return $http.get(mailServiceUrl).then(function(res){var mailList=res.data,preparedList=prepareMailList(mailList);return setMailListToStorage(preparedList),preparedList},function(err){return err})},this.getMailsFromBox=function(box){var mailList=getMailListFromStorage(),mailListFiltered=mailList.filter(function(item){return item.mailBoxType==box});return $q.resolve(mailListFiltered)},this.getMailById=function(id){var mailList=getMailListFromStorage(),mail=mailList.filter(function(item){return item._id==id});return mail[0]},this.getCountUnreadMails=function(){var mailList=getMailListFromStorage(),mailsF=mailList.filter(function(item){return"inbox"==item.mailBoxType&&item.isNew});return mailsF.length}};exports["default"]=MailListService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _userDirective=__webpack_require__(25),_userDirective2=_interopRequireDefault(_userDirective),_userListDirective=__webpack_require__(27),_userListDirective2=_interopRequireDefault(_userListDirective),_userEditDirective=__webpack_require__(30),_userEditDirective2=_interopRequireDefault(_userEditDirective),_userListService=__webpack_require__(33),_userListService2=_interopRequireDefault(_userListService),_userListController=__webpack_require__(29),_userListController2=_interopRequireDefault(_userListController),_userEditController=__webpack_require__(32),_userEditController2=_interopRequireDefault(_userEditController),user=angular.module("user",[]);user.config(["$stateProvider",function($stateProvider){$stateProvider.state("user",{"abstract":!0,url:"",template:"<user></user>"}).state("user.list",{url:"/user",template:"<user-list></user-list>"}).state("user.edit",{url:"/user/:user_id",template:"<user-edit></user-edit>"})}]),user.directive("user",_userDirective2["default"]),user.directive("userList",_userListDirective2["default"]),user.directive("userEdit",_userEditDirective2["default"]),user.service("UserListService",_userListService2["default"]),user.controller("UserListController",_userListController2["default"]),user.controller("UserEditController",_userEditController2["default"]),exports["default"]=user},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _userTpl=__webpack_require__(26),_userTpl2=_interopRequireDefault(_userTpl),user=function(){return{restrict:"E",template:_userTpl2["default"]}};exports["default"]=user},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<cm-navigation></cm-navigation> <div class="page"> <div class="container page-inner"> <div class="row"> <div class="col-xs-12"> <ui-view></ui-view> </div> </div> </div> </div> <div></div>';ngModule.run(["$templateCache",function(c){c.put("user/views/user.tpl.html",v1)}]),module.exports=v1},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _userListTpl=__webpack_require__(28),_userListTpl2=_interopRequireDefault(_userListTpl),_userListController=__webpack_require__(29),_userListController2=_interopRequireDefault(_userListController),userList=function(){return{restrict:"E",template:_userListTpl2["default"],controller:_userListController2["default"],controllerAs:"userListCtrl"}};exports["default"]=userList},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<table class="table table-hover user-list-table"> <tbody> <tr ng-repeat="user in userListCtrl.usersList" ng-click="userListCtrl.userOnClick(user.id)"> <td> <img src="{{user.picture.small}}" class="img-circle"/> </td> <td>{{user.surName}} {{user.firstName}}</td> <td>{{user.email}}</td> </tr> </tbody> </table>';ngModule.run(["$templateCache",function(c){c.put("user/views/user-list.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UserListController=function($state,UserListService){var _this=this;this.usersList=[],this.getUsers=function(){UserListService.getUsersFromStorage().then(function(res){angular.isArray(res)&&(_this.usersList=res)})},this.userOnClick=function(id){$state.go("user.edit",{user_id:id})},this.getUsers()};exports["default"]=UserListController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _userEditTpl=__webpack_require__(31),_userEditTpl2=_interopRequireDefault(_userEditTpl),_userEditController=__webpack_require__(32),_userEditController2=_interopRequireDefault(_userEditController),userEdit=function(){return{restrict:"E",template:_userEditTpl2["default"],controller:_userEditController2["default"],controllerAs:"userEditCtrl"}};exports["default"]=userEdit},function(module,exports){var ngModule,angular=window.angular;try{ngModule=angular.module(["ng"])}catch(e){ngModule=angular.module("ng",[])}var v1='<div class="row"> <div class="col-xs-12 col-md-6 center-block" style="float:none"> <h2 class="text-center">User\'s data</h2> <form> <div class="form-group text-center"> <img src="{{userEditCtrl.user.picture.medium}}" class="img-circle"/> </div> <div class="form-group"> <label>Surname</label> <input class="form-control" type="text" ng-model="userEditCtrl.user.surName"/> </div> <div class="form-group"> <label>Firstname</label> <input class="form-control" type="text" ng-model="userEditCtrl.user.firstName"/> </div> <div class="form-group"> <label>Email</label> <input class="form-control" type="text" ng-model="userEditCtrl.user.email"/> </div> <div class="form-group"> <label>Phone</label> <input class="form-control" type="text" ng-model="userEditCtrl.user.phone"/> </div> <button type="submit" class="btn btn-primary" ng-click="userEditCtrl.saveUser()">Save</button>\n<a type="submit" class="btn btn-default" title="Back to user list" ui-sref="user.list"> Cancel </a> </form> <div class="alert alert-success text-center user-status-msg" role="alert" ng-show="userEditCtrl.statusMsg"> <strong>{{userEditCtrl.statusMsg}}</strong> </div> </div> </div>';ngModule.run(["$templateCache",function(c){c.put("user/views/user-edit.tpl.html",v1)}]),module.exports=v1},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UserEditController=function($timeout,$state,$stateParams,UserListService){var _this=this;this.user=null,this.statusMsg=null,this.getUser=function(){var id=$stateParams.user_id;UserListService.getUserById(id).then(function(res){_this.user=res})},this.saveUser=function(){UserListService.saveUser(_this.user).then(function(res){return res.msg?(_this.statusMsg=res.msg,void $timeout(function(){$state.go("user.list")},800)):void console.log(res)})},this.getUser()};exports["default"]=UserEditController},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UserListService=function($http,$q){var usersUrl="http://www.json-generator.com/api/json/get/bQzpeuaeiG?indent=2",storage=localStorage||window.localStorage,getUsersListFromStorage=function(){return JSON.parse(storage.usersList)},setUsersListToStorage=function(list){storage.setItem("usersList",JSON.stringify(list))};this.getAll=function(){if(storage.getItem("usersList")){var usersList=getUsersListFromStorage();return $q.resolve(usersList)}return $http.get(usersUrl).then(function(res){return setUsersListToStorage(res.data),res.data},function(err){return err})},this.getUsersFromStorage=function(){var usersList=getUsersListFromStorage();return $q.resolve(usersList)},this.getUserById=function(id){var usersList=getUsersListFromStorage(),user=null;for(var i in usersList)usersList[i].id==id&&(user=usersList[i]);return $q.resolve(user)},this.saveUser=function(user){var usersList=getUsersListFromStorage();for(var i in usersList)usersList[i].id==user.id&&(usersList[i]=user);return setUsersListToStorage(usersList),$q.resolve({msg:"Succesfull saving"})}};exports["default"]=UserListService}]);